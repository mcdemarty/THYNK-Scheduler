<template>
	<template if:true={modalVisible}>
		<lightning-record-edit-form object-api-name={eventObjectName} record-id={eventId} class="record-edit-form" onsubmit={formSubmitHandler} onsuccess={formSuccessHandler} onerror={formErrorHandler}>
			<section role="dialog" class="slds-modal slds-fade-in-open">
				<div class="slds-modal__container">
					<header class="slds-modal__header">
						<h2 id="modal-heading-01" class="slds-modal__title slds-hyphenate">{modalLabel}</h2>
					</header>
					<div class="slds-modal__content slds-p-around_medium slds-is-relative">
						<lightning-spinner if:true={showSpinner} variant="brand" alternative-text="Loading"></lightning-spinner>
						<lightning-messages></lightning-messages>
						<template for:each={fields} for:item="field">
							<lightning-input-field key={field} field-name={field} class={field}></lightning-input-field>
							<!--<c-field-component
									field-map={fieldData}
									field-name={field}
									key={field}
							></c-field-component>-->
						</template>
					</div>
					<footer class="slds-modal__footer">
						<lightning-button class="slds-m-right_small" onclick={hideModal} label="Cancel"></lightning-button>
						<lightning-button variant="brand" type="submit" label="Save"></lightning-button>
					</footer>
				</div>
			</section>
			<div class="slds-backdrop slds-backdrop_open"></div>
		</lightning-record-edit-form>
	</template>
</template>